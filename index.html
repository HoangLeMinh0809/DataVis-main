<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta information -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style/style.css" />
    <link rel="stylesheet" href="style/structure.css" />
    <script src="https://d3js.org/d3.v7.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300&display=swap"
      rel="stylesheet"
    />
    <title>New Zealand Migration</title>

    <style></style>
  </head>

  <body>
    <!-- Data Warehouse API Client (load first) -->
    <script src="script/dataWarehouseAPI.js"></script>
    <script src="script/insights.js"></script>
    <script src="script/choropleth.js"></script>
    <script src="script/linegraph.js"></script>
    <script src="script/drawRadar.js"></script>
    <script src="script/treemap.js"></script>
    <script src="script/radarChart.js"></script>
    <script src="script/component.js"></script>
    <!-- Main heading -->
    <div id="intro">
      <h1>New Zealand Migration</h1>
      <p>
        Explore the allure of New Zealand's stunning landscapes and rich culture
        with New Zealand Migration Hub. We offer a wealth of data on migration
        trends, providing insights into the reasons individuals choose to
        relocate to this picturesque destination. Whether it's for employment
        opportunities, educational pursuits, family ties, or the desire for a
        fresh start, our platform offers comprehensive statistics to inform your
        decision-making process.
      </p>
      <p>
        This visualisation shows the migration patterns of New Zealanders
        between 2013 and 2023. The data is sourced from the New Zealand
        Department of Statistics.
      </p>
    </div>
    <div id="body">
      <div id="viz">
        <!-- SECTION 1: Choropleth Map -->
        <div class="content" id="b1">
          <h2>Arrival Choropleth Map</h2>
          <p>
            <strong>Instruction:</strong>
            Use the <strong>slider</strong> to change year. <strong>Hover</strong> over countries for details.
            <strong>Click</strong> on countries to update charts below. <strong>Scroll</strong> to zoom, <strong>drag</strong> to rotate.
          </p>
        </div>
        <div id="globeContainer">
          <div id="legend">
            <input type="range" name="mySlider" id="mySlider" min="2013" max="2023" value="2023" />
            <div id="year"><p>2023</p></div>
          </div>
          <div><h3 class="countryName">Vietnam</h3></div>
          <div id="reset"><button id="resetButton">Reset</button></div>
          
          <div class="chart-container">
            <div class="tooltip"></div>
            <div id="map"></div>
          </div>
          <div id="choroplethInsight" class="insight-container"></div>
        </div>

        <!-- SECTION 2: Line Chart -->
        <div class="content" id="b2">
          <h2>History Migration Line Chart By Country</h2>
          <p>
            The line chart shows migration history of the selected country to New Zealand from 2013 to 2023,
            highlighting annual trends and patterns.
          </p>
        </div>
        <div><h3 class="countryName" style="text-align:center;">Vietnam</h3></div>
        <div class="chart-insight-row">
          <div class="chart-container">
            <div id="lineGraph"></div>
          </div>
          <div class="insight-side" id="lineChartInsight"></div>
        </div>

        <!-- SECTION 3: Radar Chart -->
        <div class="content" id="b3">
          <h2>The Diversity Of Purpose Through Radar Chart</h2>
          <p>
            Explore migration purposes and patterns. The radar chart shows the distribution 
            across different visa categories for the selected country.
          </p>
        </div>
        <div><h3 class="countryName" style="text-align:center;">Vietnam</h3></div>
        <div class="chart-insight-row">
          <div class="chart-container">
            <div class="radarChart" id="radarChart"></div>
          </div>
          <div class="insight-side" id="radarChartInsight"></div>
        </div>

        <!-- SECTION 4: Treemap -->
        <div class="content" id="b4">
          <h2>Age Group Distribution</h2>
          <p>
            Understanding age demographics helps tailor services and policies. 
            The treemap visualizes the distribution of migrants across different age groups.
          </p>
        </div>
        <div class="chart-insight-row">
          <div class="chart-container">
            <div id="treemap"></div>
          </div>
          <div class="insight-side" id="treemapInsight"></div>
        </div>
        
        <!-- SECTION 5: Key Insights Summary - 2x2 Grid -->
        <div class="content">
          <h2>Key Insights Summary</h2>
        </div>
        <div class="insights-grid" id="summaryInsight"></div>
      </div>
    </div>

    <!-- Footer information -->
    <footer>
      Data Governance and Visualisation - 2025<br />
      Nguyen Minh Tung, Le Minh Hoang, Nguyen Ngoc Anh, Tran Tien Dung
      <br />
    </footer>
  </body>
</html>
